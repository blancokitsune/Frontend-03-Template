<style>
  div {
    background: grey;
    display: inline-block;
    margin: 30px;
    width: 100px;
    height: 100px;
    border-radius: 50%;
  }
  .green.light {
    background: green;
  }
  .yellow.light {
    background: yellow;
  }
  .red.light {
    background: red;
  }
</style>
<div class="green"></div>
<div class="yellow"></div>
<div class="red"></div>

<script>
  function sleep(t) {
    return new Promise((res, rej) => setTimeout(res, t))
  }
  function changLight(color) {
    let lights = document.querySelectorAll("div")
    lights.forEach((item) => item.classList.remove("light"))
    document.querySelector(`.${color}`).classList.add("light")
  }

  void (async function go() {
    while (true) {
      changLight("green")
      await sleep(3000)

      changLight("yellow")
      await sleep(1000)

      changLight("red")
      await sleep(500)
    }
  })()
</script>
